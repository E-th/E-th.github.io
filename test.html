<html>

<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="user-scalable=no"/>
<script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
<title>낚시 이모티콘 만들기</title>
<style type="text/css">
body{
	background-color:#E0EEE0;
}
.layer{
	position:absolute;
	top:50%;
	left:50%;
	background-color:rgba(0, 0, 0, 0);
	transform:translate(-50%, -50%)
}
a.darken {
	display: inline-block;
	background-color:rgba(0, 0, 0, 0);
	padding: 0;
}
a.darken img {
	display: block;
	-webkit-transition: all 0.5s linear;
	   -moz-transition: all 0.5s linear;
	    -ms-transition: all 0.5s linear;
	     -o-transition: all 0.5s linear;
	        transition: all 0.5s linear;
}
a.darken:hover img {
	opacity: 1.0;
}
</style>
</head>

<body>
 <div class="layer">
	<a id="kakao-link-btn" href="javascript:gogo()" class="darken">
		<img src="button.png" />
	</a>
</div>

<script>
	var img;
	var name;
	var imgwidth;
	var imgheight;
	window.onload = function()
	{
		
		var url = decodeURI(location.href);
		var pm  = url.split('?');
		
		var params   = pm[1].split('&');
		for( var i=0; i<params.length; i++ )
		{
			var param = params[i].split('=');
			
			if(param[0] == 'name')
				name = param[1];
			else if(param[0] == 'img')
				img = param[1];
		}
			var filename = 'http://e-th.github.io/'+img+'.png'; 
			var img2 = new Image();
			img2.src = filename;
			img2.onload = function() 
			{
				imgwidth 	= 	this.width;
				imgheight 	=	this.height;
				Kakao.Link.createDefaultButton({
			container: '#kakao-link-btn',
			objectType: 'feed',
			content: {
			title: name+'님이 이모티콘을\n선물하셨습니다.\n고객센터 : http://bit.ly/emoticon_cs',
			imageUrl: 'http://e-th.github.io/'+img+'.png',
			imageWidth: parseInt(imgwidth),
			imageHeight: parseInt(imgheight),
			link: {
				mobileWebUrl: 'https://e-th.github.io/fake.html',
				webUrl: 'https://e-th.github.io/fake.html'
			}
		},
		buttons: [
        	{
				title: '선물 보러가기',
				link: {
					mobileWebUrl: 'https://e-th.github.io/fake.html',
					webUrl: 'https://e-th.github.io/fake.html'
				}
	        }
      		]
		});
			}				
		
	}
	function gogo()
	{
		Kakao.Link.createDefaultButton({
			container: '#kakao-link-btn',
			objectType: 'feed',
			content: {
			title: name+'님이 이모티콘을\n선물하셨습니다.\n고객센터 : http://bit.ly/emoticon_cs',
			imageUrl: 'http://e-th.github.io/'+img+'.png',
			imageWidth: parseInt(imgwidth),
			imageHeight: parseInt(imgheight),
			link: {
				mobileWebUrl: 'https://e-th.github.io/fake.html',
				webUrl: 'https://e-th.github.io/fake.html'
			}
		},
		buttons: [
        	{
				title: '선물 보러가기',
				link: {
					mobileWebUrl: 'https://e-th.github.io/fake.html',
					webUrl: 'https://e-th.github.io/fake.html'
				}
	        }
      		]
		});
	}
</script>
</body>

</html>
